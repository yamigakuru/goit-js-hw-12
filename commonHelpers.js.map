{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["import axios from 'axios';\n\nconst API_KEY = '44070531-25bb98da1641556d9bb7c94d1';\nconst BASE_URL = 'https://pixabay.com/api/';\n\nexport async function fetchImages(query, page = 1, perPage = 15) {\n  const response = await axios.get(BASE_URL, {\n    params: {\n      key: API_KEY,\n      q: query,\n      image_type: 'photo',\n      orientation: 'horizontal',\n      safesearch: true,\n      page,\n      per_page: perPage,\n    },\n  });\n\n  return response.data.hits;\n}","import SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nlet gallery;\n\nexport function clearGallery() {\n  const galleryContainer = document.querySelector('.gallery');\n  galleryContainer.innerHTML = '';\n}\n\nexport function displayImages(images) {\n  const galleryContainer = document.querySelector('.gallery');\n  const imageCards = images.map(image => createImageCard(image)).join('');\n  galleryContainer.insertAdjacentHTML('beforeend', imageCards);\n\n  if (!gallery) {\n    gallery = new SimpleLightbox('.gallery a');\n  } else {\n    gallery.refresh();\n  }\n}\n\nfunction createImageCard(image) {\n  return `\n    <div class=\"image-card\">\n      <a href=\"${image.largeImageURL}\">\n        <img src=\"${image.webformatURL}\" alt=\"${image.tags}\" loading=\"lazy\" />\n      </a>\n      <div class=\"image-info\">\n        <p><strong>Likes:</strong> ${image.likes}</p>\n        <p><strong>Views:</strong> ${image.views}</p>\n        <p><strong>Comments:</strong> ${image.comments}</p>\n        <p><strong>Downloads:</strong> ${image.downloads}</p>\n      </div>\n    </div>\n  `;\n}\n\nexport function showLoader() {\n  const loader = document.querySelector('.loader');\n  loader.classList.remove('hidden');\n}\n\nexport function hideLoader() {\n  const loader = document.querySelector('.loader');\n  loader.classList.add('hidden');\n}\n","import iziToast from 'izitoast';\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\nimport '../src/css/styles.css';\nimport { fetchImages } from './js/pixabay-api.js';\nimport { clearGallery, displayImages, showLoader, hideLoader } from './js/render-functions.js';\n\nconst form = document.querySelector('#search-form');\nconst searchInput = document.querySelector('input[name=\"query\"]');\nconst loadMoreBtn = document.querySelector('.load-more');\nconst endOfResults = document.querySelector('.end-of-results');\nconst loader = document.querySelector('.loader');\n\nlet currentPage = 1;\nlet currentQuery = '';\n\nform.addEventListener('submit', handleSubmit);\nloadMoreBtn.addEventListener('click', handleLoadMore);\n\nfunction handleSubmit(event) {\n  event.preventDefault();\n  currentQuery = searchInput.value.trim();\n\n  if (currentQuery === '') {\n    iziToast.error({\n      title: 'Error',\n      message: 'Please enter a search term.',\n    });\n    return;\n  }\n\n  currentPage = 1;\n  clearGallery();\n  hideElements();\n  showLoader();\n\n  fetchImages(currentQuery, currentPage)\n    .then(images => {\n      hideLoader();\n      if (images.length > 0) {\n        displayImages(images);\n        loadMoreBtn.classList.remove('hidden');\n      } else {\n        iziToast.info({\n          title: 'Info',\n          message: 'No images found.',\n        });\n      }\n    })\n    .catch(error => {\n      hideLoader();\n      console.error('Error searching for images:', error);\n      iziToast.error({\n        title: 'Error',\n        message: 'Failed to load images. Please try again later.',\n      });\n    });\n}\n\nfunction handleLoadMore() {\n  currentPage += 1;\n  showLoader();\n\n  fetchImages(currentQuery, currentPage)\n    .then(images => {\n      hideLoader();\n      if (images.length > 0) {\n        displayImages(images);\n      } else {\n        loadMoreBtn.classList.add('hidden');\n        endOfResults.classList.remove('hidden');\n      }\n    })\n    .catch(error => {\n      hideLoader();\n      console.error('Error loading more images:', error);\n      iziToast.error({\n        title: 'Error',\n        message: 'Failed to load more images. Please try again later.',\n      });\n    });\n}\n\nfunction hideElements() {\n  loadMoreBtn.classList.add('hidden');\n  endOfResults.classList.add('hidden');\n}\n"],"names":["API_KEY","BASE_URL","fetchImages","query","page","perPage","axios","gallery","clearGallery","galleryContainer","displayImages","images","imageCards","image","createImageCard","SimpleLightbox","showLoader","hideLoader","form","searchInput","loadMoreBtn","endOfResults","currentPage","currentQuery","handleSubmit","handleLoadMore","event","iziToast","hideElements","error"],"mappings":"owBAEA,MAAMA,EAAU,qCACVC,EAAW,2BAEV,eAAeC,EAAYC,EAAOC,EAAO,EAAGC,EAAU,GAAI,CAa/D,OAZiB,MAAMC,EAAM,IAAIL,EAAU,CACzC,OAAQ,CACN,IAAKD,EACL,EAAGG,EACH,WAAY,QACZ,YAAa,aACb,WAAY,GACZ,KAAAC,EACA,SAAUC,CACX,CACL,CAAG,GAEe,KAAK,IACvB,CChBA,IAAIE,EAEG,SAASC,GAAe,CAC7B,MAAMC,EAAmB,SAAS,cAAc,UAAU,EAC1DA,EAAiB,UAAY,EAC/B,CAEO,SAASC,EAAcC,EAAQ,CACpC,MAAMF,EAAmB,SAAS,cAAc,UAAU,EACpDG,EAAaD,EAAO,IAAIE,GAASC,EAAgBD,CAAK,CAAC,EAAE,KAAK,EAAE,EACtEJ,EAAiB,mBAAmB,YAAaG,CAAU,EAEtDL,EAGHA,EAAQ,QAAO,EAFfA,EAAU,IAAIQ,EAAe,YAAY,CAI7C,CAEA,SAASD,EAAgBD,EAAO,CAC9B,MAAO;AAAA;AAAA,iBAEQA,EAAM,aAAa;AAAA,oBAChBA,EAAM,YAAY,UAAUA,EAAM,IAAI;AAAA;AAAA;AAAA,qCAGrBA,EAAM,KAAK;AAAA,qCACXA,EAAM,KAAK;AAAA,wCACRA,EAAM,QAAQ;AAAA,yCACbA,EAAM,SAAS;AAAA;AAAA;AAAA,GAIxD,CAEO,SAASG,GAAa,CACZ,SAAS,cAAc,SAAS,EACxC,UAAU,OAAO,QAAQ,CAClC,CAEO,SAASC,GAAa,CACZ,SAAS,cAAc,SAAS,EACxC,UAAU,IAAI,QAAQ,CAC/B,CCvCA,MAAMC,EAAO,SAAS,cAAc,cAAc,EAC5CC,EAAc,SAAS,cAAc,qBAAqB,EAC1DC,EAAc,SAAS,cAAc,YAAY,EACjDC,EAAe,SAAS,cAAc,iBAAiB,EAC9C,SAAS,cAAc,SAAS,EAE/C,IAAIC,EAAc,EACdC,EAAe,GAEnBL,EAAK,iBAAiB,SAAUM,CAAY,EAC5CJ,EAAY,iBAAiB,QAASK,CAAc,EAEpD,SAASD,EAAaE,EAAO,CAI3B,GAHAA,EAAM,eAAc,EACpBH,EAAeJ,EAAY,MAAM,OAE7BI,IAAiB,GAAI,CACvBI,EAAS,MAAM,CACb,MAAO,QACP,QAAS,6BACf,CAAK,EACD,MACD,CAEDL,EAAc,EACdd,IACAoB,IACAZ,IAEAd,EAAYqB,EAAcD,CAAW,EAClC,KAAKX,GAAU,CACdM,IACIN,EAAO,OAAS,GAClBD,EAAcC,CAAM,EACpBS,EAAY,UAAU,OAAO,QAAQ,GAErCO,EAAS,KAAK,CACZ,MAAO,OACP,QAAS,kBACnB,CAAS,CAET,CAAK,EACA,MAAME,GAAS,CACdZ,IACA,QAAQ,MAAM,8BAA+BY,CAAK,EAClDF,EAAS,MAAM,CACb,MAAO,QACP,QAAS,gDACjB,CAAO,CACP,CAAK,CACL,CAEA,SAASF,GAAiB,CACxBH,GAAe,EACfN,IAEAd,EAAYqB,EAAcD,CAAW,EAClC,KAAKX,GAAU,CACdM,IACIN,EAAO,OAAS,EAClBD,EAAcC,CAAM,GAEpBS,EAAY,UAAU,IAAI,QAAQ,EAClCC,EAAa,UAAU,OAAO,QAAQ,EAE9C,CAAK,EACA,MAAMQ,GAAS,CACdZ,IACA,QAAQ,MAAM,6BAA8BY,CAAK,EACjDF,EAAS,MAAM,CACb,MAAO,QACP,QAAS,qDACjB,CAAO,CACP,CAAK,CACL,CAEA,SAASC,GAAe,CACtBR,EAAY,UAAU,IAAI,QAAQ,EAClCC,EAAa,UAAU,IAAI,QAAQ,CACrC"}