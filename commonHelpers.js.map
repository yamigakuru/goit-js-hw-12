{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["import axios from 'axios';\r\n\r\nconst API_KEY = '44070531-25bb98da1641556d9bb7c94d1';\r\nconst BASE_URL = 'https://pixabay.com/api/';\r\n\r\nexport async function fetchImages(query, page = 1, perPage = 15) {\r\n  const response = await axios.get(BASE_URL, {\r\n    params: {\r\n      key: API_KEY,\r\n      q: query,\r\n      image_type: 'photo',\r\n      orientation: 'horizontal',\r\n      safesearch: true,\r\n      page,\r\n      per_page: perPage,\r\n    },\r\n  });\r\n\r\n  return response.data.hits;\r\n}","import SimpleLightbox from 'simplelightbox';\r\nimport 'simplelightbox/dist/simple-lightbox.min.css';\r\n\r\nlet gallery;\r\n\r\nexport function clearGallery() {\r\n  const galleryContainer = document.querySelector('.gallery');\r\n  galleryContainer.innerHTML = '';\r\n}\r\n\r\nexport function displayImages(images) {\r\n  const galleryContainer = document.querySelector('.gallery');\r\n  const imageCards = images.map(image => createImageCard(image)).join('');\r\n  galleryContainer.insertAdjacentHTML('beforeend', imageCards);\r\n\r\n  if (!gallery) {\r\n    gallery = new SimpleLightbox('.gallery a');\r\n  } else {\r\n    gallery.refresh();\r\n  }\r\n}\r\n\r\nfunction createImageCard(image) {\r\n  return `\r\n    <div class=\"image-card\">\r\n      <a href=\"${image.largeImageURL}\">\r\n        <img src=\"${image.webformatURL}\" alt=\"${image.tags}\" loading=\"lazy\" />\r\n      </a>\r\n      <div class=\"image-info\">\r\n        <p><strong>Likes:</strong> ${image.likes}</p>\r\n        <p><strong>Views:</strong> ${image.views}</p>\r\n        <p><strong>Comments:</strong> ${image.comments}</p>\r\n        <p><strong>Downloads:</strong> ${image.downloads}</p>\r\n      </div>\r\n    </div>\r\n  `;\r\n}\r\n\r\nexport function showLoader() {\r\n  const loader = document.querySelector('.loader');\r\n  loader.classList.remove('hidden');\r\n}\r\n\r\nexport function hideLoader() {\r\n  const loader = document.querySelector('.loader');\r\n  loader.classList.add('hidden');\r\n}\r\n","import iziToast from 'izitoast';\r\nimport SimpleLightbox from 'simplelightbox';\r\nimport 'simplelightbox/dist/simple-lightbox.min.css';\r\nimport '../src/css/styles.css';\r\nimport { fetchImages } from './js/pixabay-api.js';\r\nimport { clearGallery, displayImages, showLoader, hideLoader } from './js/render-functions.js';\r\n\r\nconst form = document.querySelector('#search-form');\r\nconst searchInput = document.querySelector('input[name=\"query\"]');\r\nconst loadMoreBtn = document.querySelector('.load-more');\r\nconst endOfResults = document.querySelector('.end-of-results');\r\nconst loader = document.querySelector('.loader');\r\n\r\nlet currentPage = 1;\r\nlet currentQuery = '';\r\n\r\nform.addEventListener('submit', handleSubmit);\r\nloadMoreBtn.addEventListener('click', handleLoadMore);\r\n\r\nfunction handleSubmit(event) {\r\n  event.preventDefault();\r\n  currentQuery = searchInput.value.trim();\r\n\r\n  if (currentQuery === '') {\r\n    iziToast.error({\r\n      title: 'Error',\r\n      message: 'Please enter a search term.',\r\n    });\r\n    return;\r\n  }\r\n\r\n  currentPage = 1;\r\n  clearGallery();\r\n  hideElements();\r\n  showLoader();\r\n\r\n  fetchImages(currentQuery, currentPage)\r\n    .then(images => {\r\n      hideLoader();\r\n      if (images.length > 0) {\r\n        displayImages(images);\r\n        loadMoreBtn.classList.remove('hidden');\r\n      } else {\r\n        iziToast.info({\r\n          title: 'Info',\r\n          message: 'No images found.',\r\n        });\r\n      }\r\n    })\r\n    .catch(error => {\r\n      hideLoader();\r\n      console.error('Error searching for images:', error);\r\n      iziToast.error({\r\n        title: 'Error',\r\n        message: 'Failed to load images. Please try again later.',\r\n      });\r\n    });\r\n}\r\n\r\nfunction handleLoadMore() {\r\n  currentPage += 1;\r\n  showLoader();\r\n\r\n  fetchImages(currentQuery, currentPage)\r\n    .then(images => {\r\n      hideLoader();\r\n      if (images.length > 0) {\r\n        displayImages(images);\r\n      } else {\r\n        loadMoreBtn.classList.add('hidden');\r\n        endOfResults.classList.remove('hidden');\r\n      }\r\n    })\r\n    .catch(error => {\r\n      hideLoader();\r\n      console.error('Error loading more images:', error);\r\n      iziToast.error({\r\n        title: 'Error',\r\n        message: 'Failed to load more images. Please try again later.',\r\n      });\r\n    });\r\n}\r\n\r\nfunction hideElements() {\r\n  loadMoreBtn.classList.add('hidden');\r\n  endOfResults.classList.add('hidden');\r\n}\r\n"],"names":["API_KEY","BASE_URL","fetchImages","query","page","perPage","axios","gallery","clearGallery","galleryContainer","displayImages","images","imageCards","image","createImageCard","SimpleLightbox","showLoader","hideLoader","form","searchInput","loadMoreBtn","endOfResults","currentPage","currentQuery","handleSubmit","handleLoadMore","event","iziToast","hideElements","error"],"mappings":"owBAEA,MAAMA,EAAU,qCACVC,EAAW,2BAEV,eAAeC,EAAYC,EAAOC,EAAO,EAAGC,EAAU,GAAI,CAa/D,OAZiB,MAAMC,EAAM,IAAIL,EAAU,CACzC,OAAQ,CACN,IAAKD,EACL,EAAGG,EACH,WAAY,QACZ,YAAa,aACb,WAAY,GACZ,KAAAC,EACA,SAAUC,CACX,CACL,CAAG,GAEe,KAAK,IACvB,CChBA,IAAIE,EAEG,SAASC,GAAe,CAC7B,MAAMC,EAAmB,SAAS,cAAc,UAAU,EAC1DA,EAAiB,UAAY,EAC/B,CAEO,SAASC,EAAcC,EAAQ,CACpC,MAAMF,EAAmB,SAAS,cAAc,UAAU,EACpDG,EAAaD,EAAO,IAAIE,GAASC,EAAgBD,CAAK,CAAC,EAAE,KAAK,EAAE,EACtEJ,EAAiB,mBAAmB,YAAaG,CAAU,EAEtDL,EAGHA,EAAQ,QAAO,EAFfA,EAAU,IAAIQ,EAAe,YAAY,CAI7C,CAEA,SAASD,EAAgBD,EAAO,CAC9B,MAAO;AAAA;AAAA,iBAEQA,EAAM,aAAa;AAAA,oBAChBA,EAAM,YAAY,UAAUA,EAAM,IAAI;AAAA;AAAA;AAAA,qCAGrBA,EAAM,KAAK;AAAA,qCACXA,EAAM,KAAK;AAAA,wCACRA,EAAM,QAAQ;AAAA,yCACbA,EAAM,SAAS;AAAA;AAAA;AAAA,GAIxD,CAEO,SAASG,GAAa,CACZ,SAAS,cAAc,SAAS,EACxC,UAAU,OAAO,QAAQ,CAClC,CAEO,SAASC,GAAa,CACZ,SAAS,cAAc,SAAS,EACxC,UAAU,IAAI,QAAQ,CAC/B,CCvCA,MAAMC,EAAO,SAAS,cAAc,cAAc,EAC5CC,EAAc,SAAS,cAAc,qBAAqB,EAC1DC,EAAc,SAAS,cAAc,YAAY,EACjDC,EAAe,SAAS,cAAc,iBAAiB,EAC9C,SAAS,cAAc,SAAS,EAE/C,IAAIC,EAAc,EACdC,EAAe,GAEnBL,EAAK,iBAAiB,SAAUM,CAAY,EAC5CJ,EAAY,iBAAiB,QAASK,CAAc,EAEpD,SAASD,EAAaE,EAAO,CAI3B,GAHAA,EAAM,eAAc,EACpBH,EAAeJ,EAAY,MAAM,OAE7BI,IAAiB,GAAI,CACvBI,EAAS,MAAM,CACb,MAAO,QACP,QAAS,6BACf,CAAK,EACD,MACD,CAEDL,EAAc,EACdd,IACAoB,IACAZ,IAEAd,EAAYqB,EAAcD,CAAW,EAClC,KAAKX,GAAU,CACdM,IACIN,EAAO,OAAS,GAClBD,EAAcC,CAAM,EACpBS,EAAY,UAAU,OAAO,QAAQ,GAErCO,EAAS,KAAK,CACZ,MAAO,OACP,QAAS,kBACnB,CAAS,CAET,CAAK,EACA,MAAME,GAAS,CACdZ,IACA,QAAQ,MAAM,8BAA+BY,CAAK,EAClDF,EAAS,MAAM,CACb,MAAO,QACP,QAAS,gDACjB,CAAO,CACP,CAAK,CACL,CAEA,SAASF,GAAiB,CACxBH,GAAe,EACfN,IAEAd,EAAYqB,EAAcD,CAAW,EAClC,KAAKX,GAAU,CACdM,IACIN,EAAO,OAAS,EAClBD,EAAcC,CAAM,GAEpBS,EAAY,UAAU,IAAI,QAAQ,EAClCC,EAAa,UAAU,OAAO,QAAQ,EAE9C,CAAK,EACA,MAAMQ,GAAS,CACdZ,IACA,QAAQ,MAAM,6BAA8BY,CAAK,EACjDF,EAAS,MAAM,CACb,MAAO,QACP,QAAS,qDACjB,CAAO,CACP,CAAK,CACL,CAEA,SAASC,GAAe,CACtBR,EAAY,UAAU,IAAI,QAAQ,EAClCC,EAAa,UAAU,IAAI,QAAQ,CACrC"}